<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="Content-Type" content="html/html; charset=utf-8" />
		<title>PFPurchase Class Reference</title>
		<meta id="xcode-display" name="xcode-display" content="render"/>
		<meta name="viewport" content="width=550" />
		<link rel="stylesheet" type="text/css" href="../css/styles.css" media="all" />
		<link rel="stylesheet" type="text/css" media="print" href="../css/stylesPrint.css" />
		<meta name="generator" content="appledoc 2.1 (build 840)" />
	</head>
	<body>
		<header id="top_header">
			<div id="library" class="hideInXcode">
				<h1><a id="libraryTitle" href="../index.html">TAG </a></h1>
				<a id="developerHome" href="../index.html">CouldHll</a>
			</div>
			
			<div id="title" role="banner">
				<h1 class="hideInXcode">PFPurchase Class Reference</h1>
			</div>
			<ul id="headerButtons" role="toolbar">
				<li id="toc_button">
					<button aria-label="Show Table of Contents" role="checkbox" class="open" id="table_of_contents"><span class="disclosure"></span>Table of Contents</button>
				</li>
				<li id="jumpto_button" role="navigation">
					<select id="jumpTo">
	<option value="top">Jump To&#133;</option>
	
	<option value="overview">Overview</option>
	
	
	
	
	<option value="tasks">Tasks</option>
	
	
	
	
	
	
	
	<option value="class_methods">Class Methods</option>
	
	<option value="//api/name/addObserverForProduct:block:">&nbsp;&nbsp;&nbsp;&nbsp;+ addObserverForProduct:block:</option>
	
	<option value="//api/name/buyProduct:block:">&nbsp;&nbsp;&nbsp;&nbsp;+ buyProduct:block:</option>
	
	<option value="//api/name/downloadAssetForTransaction:completion:">&nbsp;&nbsp;&nbsp;&nbsp;+ downloadAssetForTransaction:completion:</option>
	
	<option value="//api/name/downloadAssetForTransaction:completion:progress:">&nbsp;&nbsp;&nbsp;&nbsp;+ downloadAssetForTransaction:completion:progress:</option>
	
	<option value="//api/name/restore">&nbsp;&nbsp;&nbsp;&nbsp;+ restore</option>
	
	
	
	
	
</select>
				</li>
			</ul>
		</header>
		<nav id="tocContainer" class="isShowingTOC">
			<ul id="toc" role="tree">
				
<li role="treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#overview">Overview</a></span></li>




<li role="treeitem" id="task_treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#tasks">Tasks</a></span><ul>
	
</ul></li>







<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#class_methods">Class Methods</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/addObserverForProduct:block:">addObserverForProduct:block:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/buyProduct:block:">buyProduct:block:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/downloadAssetForTransaction:completion:">downloadAssetForTransaction:completion:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/downloadAssetForTransaction:completion:progress:">downloadAssetForTransaction:completion:progress:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/restore">restore</a></span></li>
	
</ul></li>




			</ul>
		</nav>
		<article>
			<div id="contents" class="isShowingTOC" role="main">
				<a title="PFPurchase Class Reference" name="top"></a>
				<div class="main-navigation navigation-top">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="header">
					<div class="section-header">
						<h1 class="title title-header">PFPurchase Class Reference</h1>
					</div>		
				</div>
				<div id="container">	
					
					<div class="section section-specification"><table cellspacing="0"><tbody>
						<tr>
	<td class="specification-title">Inherits from</td>
	<td class="specification-value">NSObject</td>
</tr><tr>
	<td class="specification-title">Declared in</td>
	<td class="specification-value">PFPurchase.h</td>
</tr>
						</tbody></table></div>
					
					
					
					
					<div class="section section-overview">
						<a title="Overview" name="overview"></a>
						<h2 class="subtitle subtitle-overview">Overview</h2>
						<p>PFPurchase provides a set of APIs for working with in-app purchases.</p>

<p>This class is currently for iOS only.</p>
					</div>
					
					
					
					
					
					<div class="section section-tasks">
						<a title="Tasks" name="tasks"></a>
						<h2 class="subtitle subtitle-tasks">Tasks</h2>
						
						
						
						

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/addObserverForProduct:block:">+&nbsp;addObserverForProduct:block:</a></code>
		<span class="tooltip"><p>Use this method to add application logic block which is run when buying a product.
This method should be called once for each product, and should be called before
calling buyProduct:block. All invocations to addObserverForProduct:block: should happen within
the same method, and on the main thread. It is recommended to place all invocations of this method
in application:didFinishLaunchingWithOptions:.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/buyProduct:block:">+&nbsp;buyProduct:block:</a></code>
		<span class="tooltip"><p>Asynchronously initiates the purchase for the product.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/downloadAssetForTransaction:completion:">+&nbsp;downloadAssetForTransaction:completion:</a></code>
		<span class="tooltip"><p>Asynchronously download the purchased asset, which is stored on Parse&rsquo;s server.
<a href="../Classes/Parse.html">Parse</a> verifies the receipt with Apple and delivers the content only if the receipt is valid.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/downloadAssetForTransaction:completion:progress:">+&nbsp;downloadAssetForTransaction:completion:progress:</a></code>
		<span class="tooltip"><p>Asynchronously download the purchased asset, which is stored on Parse&rsquo;s server.
<a href="../Classes/Parse.html">Parse</a> verifies the receipt with Apple and delivers the content only if the receipt is valid.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/restore">+&nbsp;restore</a></code>
		<span class="tooltip"><p>Asynchronously restore completed transactions for the current user.
Note: This method is only important to developers who want to preserve purchase states across
different installations of the same app.
Only nonconsumable purchases are restored. If observers for the products have been added before
calling this method, invoking the method reruns the application logic associated with the purchase.</p></span>
	</span>
	
	
</li>
						</ul>
						
					</div>
					
					
					
					
					
					
					
					<div class="section section-methods">
						<a title="Class Methods" name="class_methods"></a>
						<h2 class="subtitle subtitle-methods">Class Methods</h2>
						
						<div class="section-method">
	<a name="//api/name/addObserverForProduct:block:" title="addObserverForProduct:block:"></a>
	<h3 class="subsubtitle method-title">addObserverForProduct:block:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Use this method to add application logic block which is run when buying a product.
This method should be called once for each product, and should be called before
calling buyProduct:block. All invocations to addObserverForProduct:block: should happen within
the same method, and on the main thread. It is recommended to place all invocations of this method
in application:didFinishLaunchingWithOptions:.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>+ (void)addObserverForProduct:(NSString *)<em>productIdentifier</em> block:(void ( ^ ) ( SKPaymentTransaction *transaction ))<em>block</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>productIdentifier</em></dt>
			<dd><p>the product identifier</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>completion</em></dt>
			<dd><p>the completion block</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">PFPurchase.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/buyProduct:block:" title="buyProduct:block:"></a>
	<h3 class="subsubtitle method-title">buyProduct:block:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Asynchronously initiates the purchase for the product.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>+ (void)buyProduct:(NSString *)<em>productIdentifier</em> block:(void ( ^ ) ( NSError *error ))<em>block</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>productIdentifier</em></dt>
			<dd><p>the product identifier</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>block</em></dt>
			<dd><p>the completion block.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">PFPurchase.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/downloadAssetForTransaction:completion:" title="downloadAssetForTransaction:completion:"></a>
	<h3 class="subsubtitle method-title">downloadAssetForTransaction:completion:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Asynchronously download the purchased asset, which is stored on Parse&rsquo;s server.
<a href="../Classes/Parse.html">Parse</a> verifies the receipt with Apple and delivers the content only if the receipt is valid.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>+ (void)downloadAssetForTransaction:(SKPaymentTransaction *)<em>transaction</em> completion:(void ( ^ ) ( NSString *filePath , NSError *error ))<em>completion</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>transaction</em></dt>
			<dd><p>the transaction, which contains the receipt.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>completion</em></dt>
			<dd><p>the completion block.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">PFPurchase.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/downloadAssetForTransaction:completion:progress:" title="downloadAssetForTransaction:completion:progress:"></a>
	<h3 class="subsubtitle method-title">downloadAssetForTransaction:completion:progress:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Asynchronously download the purchased asset, which is stored on Parse&rsquo;s server.
<a href="../Classes/Parse.html">Parse</a> verifies the receipt with Apple and delivers the content only if the receipt is valid.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>+ (void)downloadAssetForTransaction:(SKPaymentTransaction *)<em>transaction</em> completion:(void ( ^ ) ( NSString *filePath , NSError *error ))<em>completion</em> progress:(PFProgressBlock)<em>progress</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>transaction</em></dt>
			<dd><p>the transaction, which contains the receipt.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>completion</em></dt>
			<dd><p>the completion block.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>progress</em></dt>
			<dd><p>the progress block, which is called multiple times to reveal progress of the download.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">PFPurchase.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/restore" title="restore"></a>
	<h3 class="subsubtitle method-title">restore</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Asynchronously restore completed transactions for the current user.
Note: This method is only important to developers who want to preserve purchase states across
different installations of the same app.
Only nonconsumable purchases are restored. If observers for the products have been added before
calling this method, invoking the method reruns the application logic associated with the purchase.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>+ (void)restore</code></div>

    
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">PFPurchase.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
					
					
				</div>
				<div class="main-navigation navigation-bottom">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="footer">
					<hr />
					<div class="footer-copyright">
						<p><span class="copyright">&copy; 2013 CouldHll. All rights reserved. (Last updated: 2013-10-23)</span><br />
						
						<span class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.1 (build 840)</a>.</span></p>
						
					</div>
				</div>
			</div>
		</article>
		<script type="text/javascript">
			function jumpToChange()
			{
				window.location.hash = this.options[this.selectedIndex].value;
			}
			
			function toggleTOC()
			{
				var contents = document.getElementById('contents');
				var tocContainer = document.getElementById('tocContainer');
				
				if (this.getAttribute('class') == 'open')
				{
					this.setAttribute('class', '');
					contents.setAttribute('class', '');
					tocContainer.setAttribute('class', '');
					
					window.name = "hideTOC";
				}
				else
				{
					this.setAttribute('class', 'open');
					contents.setAttribute('class', 'isShowingTOC');
					tocContainer.setAttribute('class', 'isShowingTOC');
					
					window.name = "";
				}
				return false;
			}
			
			function toggleTOCEntryChildren(e)
			{
				e.stopPropagation();
				var currentClass = this.getAttribute('class');
				if (currentClass == 'children') {
					this.setAttribute('class', 'children open');
				}
				else if (currentClass == 'children open') {
					this.setAttribute('class', 'children');
				}
				return false;
			}
			
			function tocEntryClick(e)
			{
				e.stopPropagation();
				return true;
			}
			
			function init()
			{
				var selectElement = document.getElementById('jumpTo');
				selectElement.addEventListener('change', jumpToChange, false);
				
				var tocButton = document.getElementById('table_of_contents');
				tocButton.addEventListener('click', toggleTOC, false);
				
				var taskTreeItem = document.getElementById('task_treeitem');
				if (taskTreeItem.getElementsByTagName('li').length > 0)
				{
					taskTreeItem.setAttribute('class', 'children');
					taskTreeItem.firstChild.setAttribute('class', 'disclosure');
				}
				
				var tocList = document.getElementById('toc');
				
				var tocEntries = tocList.getElementsByTagName('li');
				for (var i = 0; i < tocEntries.length; i++) {
					tocEntries[i].addEventListener('click', toggleTOCEntryChildren, false);
				}
				
				var tocLinks = tocList.getElementsByTagName('a');
				for (var i = 0; i < tocLinks.length; i++) {
					tocLinks[i].addEventListener('click', tocEntryClick, false);
				}
				
				if (window.name == "hideTOC") {
					toggleTOC.call(tocButton);
				}
			}
			
			window.onload = init;
			
			// If showing in Xcode, hide the TOC and Header
			if (navigator.userAgent.match(/xcode/i)) {
				document.getElementById("contents").className = "hideInXcode"
				document.getElementById("tocContainer").className = "hideInXcode"
				document.getElementById("top_header").className = "hideInXcode"
			}
			
		</script>
	</body>
</html>